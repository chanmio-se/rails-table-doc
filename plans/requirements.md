# MVP Stories

## MVP1: Rakeタスクでマイグレーションファイルからテーブル・カラム情報を抽出しMarkdown出力
- ユーザーとして、Rakeタスクを実行するだけで、Railsプロジェクトのマイグレーションファイルからテーブル・カラム情報を自動抽出し、Markdown形式でドキュメント化したい。
- 期待するアウトプット例：`doc/{table_name}.md` にテーブルごとの一覧・カラム詳細がMarkdownで出力される。
- 一覧ページとして `doc/_index.md` を生成し、全テーブルへのリンクをまとめる。

## MVP2: モデルのassociation情報を抽出しER図出力
- ユーザーとして、モデルに記述されたActiveRecordのassociation情報（has_many, belongs_to等）を自動抽出し、ER図として可視化したい。
- 期待するアウトプット例：`doc/{table_name}.md` の各テーブルセクション内に関連図（ER図）がMarkdownまたは画像で記述される。

## MVP3: カラム定義のmetadataオプションを解析して出力に反映
- ユーザーとして、マイグレーションファイルのカラム定義にmetadataオプション（例: `metadata: { pii: true }`）を記述し、ドキュメント出力時にその情報も反映させたい。
- 期待するアウトプット例：`doc/{table_name}.md` のカラム詳細にmetadata項目が表示される。

## MVP4: ユーザー付記領域の保持（再生成時のマージ）
- ユーザーとして、出力されたドキュメントに自由にコメントや補足を書き加えたい。
- ドキュメントを再生成・更新しても、ユーザーが付記した内容が消えないようにしたい。
- 期待するアウトプット例：`doc/{table_name}.md` の任意箇所にユーザーコメントを残し、再生成後も保持される。

## MVP5: ERBテンプレートのユーザーカスタマイズ対応
- ユーザーとして、ドキュメント出力のテンプレート（ERB）をプロジェクト内で自由にカスタマイズしたい。
- 期待するアウトプット例：`doc_templates/{table_name}.md.erb` を編集することで出力内容を変更できる。

## MVP6: CI統合・テスト（RSpec）
- 開発者として、CI環境で自動的にドキュメント生成・テストが実行され、品質を担保したい。
- 期待するアウトプット例：GitHub Actions等でRakeタスクとRSpecが自動実行される。
